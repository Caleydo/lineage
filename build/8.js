webpackJsonp([8,11],{620:function(t,e,r){"use strict";function i(t,e){return"function"==typeof e?new h(t,r.i(l.a)(e)):new h(t,e||r.i(l.b)())}function n(t,e,i,n){void 0===n&&(n={});var _=Array.isArray(e)?e:t.map(function(t){return t[0]}).slice(1),p=i||t[0].slice(1);"object"==typeof e&&(n=e),n=n||{};var d=Array.isArray(e)?t:t.slice(1).map(function(t){return t.slice(1)}),l=r.i(s.f)([].concat.apply([],d));l.type===s.c?d=d.map(function(t){return t.map(parseFloat)}):l.type===s.c&&(d=d.map(function(t){return t.map(parseInt)}));var f=r.i(a.a)(r.i(c.a)(),{size:[_.length,p.length],value:l},n),y=n.rowassigner||r.i(u.d)(),E=n.rowassigner||r.i(u.d)();return new h(f,{rowIds:function(t,e){return Promise.resolve(y(e.filter(_)))},colIds:function(t,e){return Promise.resolve(E(e.filter(p)))},ids:function(t,e){var i=y(e.dim(0).filter(_)),n=E(e.dim(1).filter(p));return Promise.resolve(r.i(o.c)(i,n))},at:function(t,e,r){return Promise.resolve(d[e][r])},rows:function(t,e){return Promise.resolve(e.filter(_))},cols:function(t,e){return Promise.resolve(e.filter(p))},data:function(t,e){return Promise.resolve(e.filter(d))}})}Object.defineProperty(e,"__esModule",{value:!0});var _=r(5),o=r(13),s=r(18),a=r(19),u=r(231),c=r(769),p=r(736),d=r(773),l=r(774);e.create=i,e.asMatrix=n;var h=function(t){function e(e,i){var n=t.call(this,null)||this;return n.desc=e,n.loader=i,n.root=n,n.valuetype=e.value,n.rowtype=r.i(u.e)(e.rowtype),n.coltype=r.i(u.e)(e.coltype),n._producttype=r.i(u.g)(n.rowtype,n.coltype),n.t=new d.a(n),n}return _.a(e,t),Object.defineProperty(e.prototype,"producttype",{get:function(){return this._producttype},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"idtypes",{get:function(){return[this.rowtype,this.coltype]},enumerable:!0,configurable:!0}),e.prototype.at=function(t,e){return this.loader.at(this.desc,t,e)},e.prototype.data=function(t){return void 0===t&&(t=r.i(o.a)()),this.loader.data(this.desc,r.i(o.h)(t))},e.prototype.ids=function(t){return void 0===t&&(t=r.i(o.a)()),this.loader.ids(this.desc,r.i(o.h)(t))},e.prototype.cols=function(t){return void 0===t&&(t=r.i(o.a)()),this.loader.cols(this.desc,r.i(o.h)(t))},e.prototype.colIds=function(t){return void 0===t&&(t=r.i(o.a)()),this.loader.colIds(this.desc,r.i(o.h)(t))},e.prototype.rows=function(t){return void 0===t&&(t=r.i(o.a)()),this.loader.rows(this.desc,r.i(o.h)(t))},e.prototype.rowIds=function(t){return void 0===t&&(t=r.i(o.a)()),this.loader.rowIds(this.desc,r.i(o.h)(t))},e.prototype.hist=function(e,i,n){return void 0===i&&(i=r.i(o.a)()),void 0===n&&(n=0),!this.loader.numericalHist||this.valuetype.type!==s.c&&this.valuetype.type!==s.b?t.prototype.hist.call(this,e,i,n):this.loader.numericalHist(this.desc,r.i(o.h)(i),e)},e.prototype.stats=function(e){return void 0===e&&(e=r.i(o.a)()),!this.loader.numericalStats||this.valuetype.type!==s.c&&this.valuetype.type!==s.b?t.prototype.stats.call(this,e):this.loader.numericalStats(this.desc,r.i(o.h)(e))},e.prototype.statsAdvanced=function(e){return void 0===e&&(e=r.i(o.a)()),!this.loader.numericalStats||this.valuetype.type!==s.c&&this.valuetype.type!==s.b?t.prototype.statsAdvanced.call(this,e):this.loader.numericalStats(this.desc,r.i(o.h)(e))},e.prototype.size=function(){return this.desc.size},e.prototype.persist=function(){return this.desc.id},e.prototype.heatmapUrl=function(t,e){return void 0===t&&(t=r.i(o.a)()),void 0===e&&(e={}),this.loader.heatmapUrl?this.loader.heatmapUrl(this.desc,t,e):null},e}(p.a);e.default=h},660:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_tslib__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_1__range__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_2__index__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_3__idtype__=__webpack_require__(231),__WEBPACK_IMPORTED_MODULE_4__datatype__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_5__math__=__webpack_require__(233),__WEBPACK_IMPORTED_MODULE_6__internal_StratificationVector__=__webpack_require__(690),__WEBPACK_IMPORTED_MODULE_7__internal_ProjectedAtom__=__webpack_require__(689),AVector=function(_super){function AVector(t){var e=_super.call(this)||this;return e.root=t,e}return __WEBPACK_IMPORTED_MODULE_0_tslib__.a(AVector,_super),Object.defineProperty(AVector.prototype,"dim",{get:function(){return[this.length]},enumerable:!0,configurable:!0}),Object.defineProperty(AVector.prototype,"length",{get:function(){return this.size()},enumerable:!0,configurable:!0}),AVector.prototype.view=function(t){return void 0===t&&(t=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)()),new VectorView(this.root,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.h)(t))},AVector.prototype.idView=function(t){return void 0===t&&(t=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)()),__WEBPACK_IMPORTED_MODULE_0_tslib__.b(this,void 0,void 0,function(){var e;return __WEBPACK_IMPORTED_MODULE_0_tslib__.c(this,function(r){switch(r.label){case 0:return[4,this.ids()];case 1:return e=r.sent(),[2,this.view(e.indexOf(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.h)(t)))]}})})},AVector.prototype.stats=function(t){return void 0===t&&(t=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)()),__WEBPACK_IMPORTED_MODULE_0_tslib__.b(this,void 0,void 0,function(){var e;return __WEBPACK_IMPORTED_MODULE_0_tslib__.c(this,function(r){switch(r.label){case 0:return this.root.valuetype.type!==__WEBPACK_IMPORTED_MODULE_4__datatype__.b&&this.root.valuetype.type!==__WEBPACK_IMPORTED_MODULE_4__datatype__.c?[2,Promise.reject("invalid value type: "+this.root.valuetype.type)]:(e=__WEBPACK_IMPORTED_MODULE_5__math__.c,[4,this.data(t)]);case 1:return[2,e.apply(void 0,[r.sent()])]}})})},AVector.prototype.statsAdvanced=function(t){return void 0===t&&(t=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)()),__WEBPACK_IMPORTED_MODULE_0_tslib__.b(this,void 0,void 0,function(){var e;return __WEBPACK_IMPORTED_MODULE_0_tslib__.c(this,function(r){switch(r.label){case 0:return this.root.valuetype.type!==__WEBPACK_IMPORTED_MODULE_4__datatype__.b&&this.root.valuetype.type!==__WEBPACK_IMPORTED_MODULE_4__datatype__.c?[2,Promise.reject("invalid value type: "+this.root.valuetype.type)]:(e=__WEBPACK_IMPORTED_MODULE_5__math__.d,[4,this.data(t)]);case 1:return[2,e.apply(void 0,[r.sent()])]}})})},Object.defineProperty(AVector.prototype,"indices",{get:function(){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.i)(0,this.length)},enumerable:!0,configurable:!0}),AVector.prototype.groups=function(){return __WEBPACK_IMPORTED_MODULE_0_tslib__.b(this,void 0,void 0,function(){var t,e,r,i,n;return __WEBPACK_IMPORTED_MODULE_0_tslib__.c(this,function(_){switch(_.label){case 0:return t=this.root.valuetype,t.type!==__WEBPACK_IMPORTED_MODULE_4__datatype__.a?[3,2]:(e=t,[4,this.data()]);case 1:return r=_.sent(),i={name:this.root.desc.id},"string"!=typeof e.categories[0]&&(n=e.categories,n[0].color&&(i.colors=n.map(function(t){return t.color})),n[0].label&&(i.labels=n.map(function(t){return t.label}))),[2,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__datatype__.i)(r,e.categories.map(function(t){return"string"==typeof t?t:t.name}),i)];case 2:return[2,Promise.resolve(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.g)(this.root.desc.id,[__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.j)(this.indices.dim(0))]))]}})})},AVector.prototype.stratification=function(){return this.asStratification()},AVector.prototype.asStratification=function(){return __WEBPACK_IMPORTED_MODULE_0_tslib__.b(this,void 0,void 0,function(){var t,e;return __WEBPACK_IMPORTED_MODULE_0_tslib__.c(this,function(r){switch(r.label){case 0:return t=__WEBPACK_IMPORTED_MODULE_6__internal_StratificationVector__.a.bind,e=[void 0,this.root],[4,this.groups()];case 1:return[2,new(t.apply(__WEBPACK_IMPORTED_MODULE_6__internal_StratificationVector__.a,e.concat([r.sent()])))]}})})},AVector.prototype.hist=function(t,e){return void 0===e&&(e=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)()),__WEBPACK_IMPORTED_MODULE_0_tslib__.b(this,void 0,void 0,function(){var r,i,n,_;return __WEBPACK_IMPORTED_MODULE_0_tslib__.c(this,function(o){switch(o.label){case 0:return r=this.root.valuetype,[4,this.data(e)];case 1:switch(i=o.sent(),r.type){case __WEBPACK_IMPORTED_MODULE_4__datatype__.a:return n=r,[2,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__math__.e)(i,this.indices.dim(0),i.length,n.categories.map(function(t){return"string"==typeof t?t:t.name}),n.categories.map(function(t){return"string"==typeof t?t:t.label||t.name}),n.categories.map(function(t){return"string"==typeof t?"gray":t.color||"gray"}))];case __WEBPACK_IMPORTED_MODULE_4__datatype__.c:case __WEBPACK_IMPORTED_MODULE_4__datatype__.b:return _=r,[2,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__math__.f)(i,this.indices.dim(0),i.length,t||Math.round(Math.sqrt(this.length)),_.range)];default:return[2,null]}return[2]}})})},AVector.prototype.every=function(t,e){return __WEBPACK_IMPORTED_MODULE_0_tslib__.b(this,void 0,void 0,function(){return __WEBPACK_IMPORTED_MODULE_0_tslib__.c(this,function(r){switch(r.label){case 0:return[4,this.data()];case 1:return[2,r.sent().every(t,e)]}})})},AVector.prototype.some=function(t,e){return __WEBPACK_IMPORTED_MODULE_0_tslib__.b(this,void 0,void 0,function(){return __WEBPACK_IMPORTED_MODULE_0_tslib__.c(this,function(r){switch(r.label){case 0:return[4,this.data()];case 1:return[2,r.sent().some(t,e)]}})})},AVector.prototype.forEach=function(t,e){return __WEBPACK_IMPORTED_MODULE_0_tslib__.b(this,void 0,void 0,function(){return __WEBPACK_IMPORTED_MODULE_0_tslib__.c(this,function(r){switch(r.label){case 0:return[4,this.data()];case 1:return r.sent().forEach(t,e),[2]}})})},AVector.prototype.reduce=function(t,e,r){return __WEBPACK_IMPORTED_MODULE_0_tslib__.b(this,void 0,void 0,function(){function i(){return t.apply(r,Array.from(arguments))}return __WEBPACK_IMPORTED_MODULE_0_tslib__.c(this,function(t){switch(t.label){case 0:return[4,this.data()];case 1:return[2,t.sent().reduce(i,e)]}})})},AVector.prototype.reduceRight=function(t,e,r){return __WEBPACK_IMPORTED_MODULE_0_tslib__.b(this,void 0,void 0,function(){function i(){return t.apply(r,Array.from(arguments))}return __WEBPACK_IMPORTED_MODULE_0_tslib__.c(this,function(t){switch(t.label){case 0:return[4,this.data()];case 1:return[2,t.sent().reduceRight(i,e)]}})})},AVector.prototype.reduceAtom=function(t,e,r,i){var n=this;return new __WEBPACK_IMPORTED_MODULE_7__internal_ProjectedAtom__.a(n,t,e,r,i)},AVector.prototype.restore=function(persisted){var r=this;return persisted&&persisted.f?this.reduceAtom(eval(persisted.f),this,persisted.valuetype,persisted.idtype?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__idtype__.e)(persisted.idtype):void 0):(persisted&&persisted.range&&(r=r.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.h)(persisted.range))),r)},AVector}(__WEBPACK_IMPORTED_MODULE_3__idtype__.a);__webpack_exports__.a=AVector;var VectorView=function(t){function e(e,r){var i=t.call(this,e)||this;return i.range=r,i}return __WEBPACK_IMPORTED_MODULE_0_tslib__.a(e,t),Object.defineProperty(e.prototype,"desc",{get:function(){return this.root.desc},enumerable:!0,configurable:!0}),e.prototype.persist=function(){return{root:this.root.persist(),range:this.range.toString()}},e.prototype.size=function(){return this.range.size(this.root.dim)[0]},e.prototype.at=function(t){var e=this.range.invert([t],this.root.dim);return this.root.at(e[0])},e.prototype.data=function(t){return void 0===t&&(t=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)()),this.root.data(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.h)(t),this.root.dim))},e.prototype.names=function(t){return void 0===t&&(t=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)()),this.root.names(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.h)(t),this.root.dim))},e.prototype.ids=function(t){return void 0===t&&(t=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)()),this.root.ids(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.h)(t),this.root.dim))},e.prototype.view=function(t){void 0===t&&(t=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)());var r=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.h)(t);return r.isAll?this:new e(this.root,this.range.preMultiply(r,this.dim))},Object.defineProperty(e.prototype,"valuetype",{get:function(){return this.root.valuetype},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"idtype",{get:function(){return this.root.idtype},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"idtypes",{get:function(){return[this.idtype]},enumerable:!0,configurable:!0}),e.prototype.sort=function(t,e){return __WEBPACK_IMPORTED_MODULE_0_tslib__.b(this,void 0,void 0,function(){var r,i;return __WEBPACK_IMPORTED_MODULE_0_tslib__.c(this,function(n){switch(n.label){case 0:return[4,this.data()];case 1:return r=n.sent(),i=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__index__.l)(r,t,e),[2,this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.b)(i))]}})})},e.prototype.filter=function(t,e){return __WEBPACK_IMPORTED_MODULE_0_tslib__.b(this,void 0,void 0,function(){var r,i;return __WEBPACK_IMPORTED_MODULE_0_tslib__.c(this,function(n){switch(n.label){case 0:return[4,this.data()];case 1:return r=n.sent(),i=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__index__.m)(r,t,e),[2,this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.b)(i))]}})})},e}(AVector)},682:function(t,e,r){"use strict";var i=r(5),n=r(13),_=r(231),o=r(233),s=function(t){function e(e,r,i){var n=t.call(this)||this;return n.root=e,n.groupIndex=r,n.groupDesc=i,n}return i.a(e,t),Object.defineProperty(e.prototype,"desc",{get:function(){return this.root.desc},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return[this.groupDesc]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngroups",{get:function(){return 1},enumerable:!0,configurable:!0}),e.prototype.group=function(t){return 0===t?this:null},Object.defineProperty(e.prototype,"idtype",{get:function(){return this.root.idtype},enumerable:!0,configurable:!0}),e.prototype.hist=function(t,e){return void 0===e&&(e=r.i(n.a)()),i.b(this,void 0,void 0,function(){var t;return i.c(this,function(e){switch(e.label){case 0:return t=o.b,[4,this.range()];case 1:return[2,t.apply(void 0,[e.sent()])]}})})},e.prototype.vector=function(){return this.asVector()},e.prototype.asVector=function(){return Promise.all([this.root.asVector(),this.rangeGroup()]).then(function(t){return t[0].view(r.i(n.b)(t[1]))})},e.prototype.origin=function(){return this.root.origin()},e.prototype.range=function(){return i.b(this,void 0,void 0,function(){var t;return i.c(this,function(e){switch(e.label){case 0:return[4,this.rangeGroup()];case 1:return t=e.sent(),[2,new n.k(t.name,[t])]}})})},e.prototype.idRange=function(){return i.b(this,void 0,void 0,function(){var t,e;return i.c(this,function(r){switch(r.label){case 0:return[4,this.root.idRange()];case 1:return t=r.sent(),e=t.groups[this.groupIndex],[2,new n.k(e.name,[e])]}})})},e.prototype.rangeGroup=function(){return i.b(this,void 0,void 0,function(){var t;return i.c(this,function(e){switch(e.label){case 0:return[4,this.root.range()];case 1:return t=e.sent(),[2,t.groups[this.groupIndex]]}})})},e.prototype.names=function(t){return void 0===t&&(t=r.i(n.a)()),i.b(this,void 0,void 0,function(){var e,_;return i.c(this,function(i){switch(i.label){case 0:return[4,this.rangeGroup()];case 1:return e=i.sent(),_=r.i(n.b)(e).preMultiply(r.i(n.h)(t)),[2,this.root.names(_)]}})})},e.prototype.ids=function(t){return void 0===t&&(t=r.i(n.a)()),i.b(this,void 0,void 0,function(){var e,_;return i.c(this,function(i){switch(i.label){case 0:return[4,this.rangeGroup()];case 1:return e=i.sent(),_=r.i(n.b)(e).preMultiply(r.i(n.h)(t)),[2,this.root.ids(_)]}})})},e.prototype.idView=function(t){return void 0===t&&(t=r.i(n.a)()),Promise.reject("not implemented")},e.prototype.toString=function(){return this.persist()},Object.defineProperty(e.prototype,"idtypes",{get:function(){return[this.idtype]},enumerable:!0,configurable:!0}),e.prototype.size=function(){return[this.length]},Object.defineProperty(e.prototype,"length",{get:function(){return this.groupDesc.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dim",{get:function(){return this.size()},enumerable:!0,configurable:!0}),e.prototype.persist=function(){return{root:this.root.persist(),group:this.groupIndex}},e.prototype.restore=function(t){return this},e}(_.a);e.a=s},689:function(t,e,r){"use strict";var i=r(5),n=r(13),_=r(231),o=function(t){function e(e,r,i,n,_){void 0===i&&(i=e),void 0===n&&(n=e.valuetype),void 0===_&&(_=e.idtype);var o=t.call(this)||this;return o.v=e,o.f=r,o.thisArgument=i,o.valuetype=n,o._idtype=_,o.cache=null,o.desc={name:e.desc.name+"-p",fqname:e.desc.fqname+"-p",type:"atom",id:e.desc.id+"-p",idtype:e.idtype,value:o.valuetype,description:e.desc.description,creator:e.desc.creator,ts:e.desc.ts},o}return i.a(e,t),e.prototype.load=function(){var t=this;return null===this.cache&&(this.cache=Promise.all([this.v.data(),this.v.ids(),this.v.names()]).then(function(e){return t.f.apply(t.thisArgument,e)})),this.cache},e.prototype.id=function(){return i.b(this,void 0,void 0,function(){var t;return i.c(this,function(e){switch(e.label){case 0:return[4,this.load()];case 1:return t=e.sent(),[2,r.i(n.b)(t.id)]}})})},e.prototype.name=function(){return i.b(this,void 0,void 0,function(){var t;return i.c(this,function(e){switch(e.label){case 0:return[4,this.load()];case 1:return t=e.sent(),[2,t.name]}})})},e.prototype.data=function(){return i.b(this,void 0,void 0,function(){var t;return i.c(this,function(e){switch(e.label){case 0:return[4,this.load()];case 1:return t=e.sent(),[2,t.value]}})})},Object.defineProperty(e.prototype,"dim",{get:function(){return[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"idtype",{get:function(){return this._idtype},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"idtypes",{get:function(){return[this._idtype]},enumerable:!0,configurable:!0}),e.prototype.ids=function(t){return void 0===t&&(t=r.i(n.a)()),t=r.i(n.h)(t),t.isNone?Promise.resolve(r.i(n.d)()):this.id()},e.prototype.idView=function(t){return Promise.resolve(this)},e.prototype.persist=function(){return{root:this.v.persist(),f:this.f.toString(),valuetype:this.valuetype===this.v.valuetype?void 0:this.valuetype,idtype:this.idtype===this.v.idtype?void 0:this.idtype.name}},e.prototype.restore=function(t){return this},e}(_.a);e.a=o},690:function(t,e,r){"use strict";var i=r(5),n=r(13),_=r(18),o=r(233),s=r(682),a=function(t){function e(e,r){var i=t.call(this,{id:e.desc.id+"-s",name:e.desc.name,description:e.desc.description,creator:e.desc.creator,ts:e.desc.ts,fqname:e.desc.fqname,type:"stratification",idtype:e.idtype.id,size:e.length,ngroups:r.groups.length,groups:r.groups.map(function(t){return{name:t.name,color:t.color,size:t.length}})})||this;return i.v=e,i.r=r,i}return i.a(e,t),Object.defineProperty(e.prototype,"idtype",{get:function(){return this.v.idtype},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this.desc.groups},enumerable:!0,configurable:!0}),e.prototype.group=function(t){return new s.a(this,t,this.groups[t])},e.prototype.hist=function(t,e){return void 0===e&&(e=r.i(n.a)()),i.b(this,void 0,void 0,function(){var t;return i.c(this,function(e){switch(e.label){case 0:return t=o.b,[4,this.range()];case 1:return[2,t.apply(void 0,[e.sent()])]}})})},e.prototype.vector=function(){return this.asVector()},e.prototype.asVector=function(){return Promise.resolve(this.v)},e.prototype.origin=function(){return this.asVector()},e.prototype.range=function(){return Promise.resolve(this.r)},e.prototype.idRange=function(){return i.b(this,void 0,void 0,function(){var t;return i.c(this,function(e){switch(e.label){case 0:return[4,this.ids()];case 1:return t=e.sent(),[2,t.dim(0).preMultiply(this.r,this.dim[0])]}})})},e.prototype.names=function(t){return void 0===t&&(t=r.i(n.a)()),this.v.names(t)},e.prototype.ids=function(t){return void 0===t&&(t=r.i(n.a)()),this.v.ids(t)},Object.defineProperty(e.prototype,"idtypes",{get:function(){return[this.idtype]},enumerable:!0,configurable:!0}),e.prototype.size=function(){return this.desc.size},Object.defineProperty(e.prototype,"length",{get:function(){return this.size()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngroups",{get:function(){return this.groups.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dim",{get:function(){return[this.size()]},enumerable:!0,configurable:!0}),e.prototype.persist=function(){return{root:this.v.persist(),asstrat:!0}},e}(_.h);e.a=a},736:function(module,__webpack_exports__,__webpack_require__){"use strict";function flatten(t,e,r){void 0===r&&(r=0);var i=[],n=[t.length,t[0].length];if(0===r)i=i.concat.apply(i,t);else for(var _=function(e){t.forEach(function(t){i.push(t[e])})},o=0;o<n[1];++o)_(o);return{data:i,indices:e.dim(r).repeat(n[1-r])}}var __WEBPACK_IMPORTED_MODULE_0_tslib__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_1__range__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_2__idtype__=__webpack_require__(231),__WEBPACK_IMPORTED_MODULE_3__idtype_AProductSelectAble__=__webpack_require__(239),__WEBPACK_IMPORTED_MODULE_4__datatype__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_5__math__=__webpack_require__(233),__WEBPACK_IMPORTED_MODULE_6__internal_SliceColVector__=__webpack_require__(771),__WEBPACK_IMPORTED_MODULE_7__internal_ProjectedVector__=__webpack_require__(770);__webpack_require__.d(__webpack_exports__,"b",function(){return MatrixView});var AMatrix=function(_super){function AMatrix(t){var e=_super.call(this)||this;return e.root=t,e}return __WEBPACK_IMPORTED_MODULE_0_tslib__.a(AMatrix,_super),Object.defineProperty(AMatrix.prototype,"dim",{get:function(){return this.size()},enumerable:!0,configurable:!0}),Object.defineProperty(AMatrix.prototype,"length",{get:function(){return this.nrow*this.ncol},enumerable:!0,configurable:!0}),Object.defineProperty(AMatrix.prototype,"nrow",{get:function(){return this.dim[0]},enumerable:!0,configurable:!0}),Object.defineProperty(AMatrix.prototype,"ncol",{get:function(){return this.dim[1]},enumerable:!0,configurable:!0}),Object.defineProperty(AMatrix.prototype,"indices",{get:function(){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.i)([0,this.nrow],[0,this.ncol])},enumerable:!0,configurable:!0}),AMatrix.prototype.view=function(t){void 0===t&&(t=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)());var e=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.h)(t);return e.isAll?this.root:new MatrixView(this.root,e)},AMatrix.prototype.slice=function(t){return new __WEBPACK_IMPORTED_MODULE_6__internal_SliceColVector__.a(this.root,t)},AMatrix.prototype.stats=function(t){return void 0===t&&(t=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)()),__WEBPACK_IMPORTED_MODULE_0_tslib__.b(this,void 0,void 0,function(){var e,r,i,n;return __WEBPACK_IMPORTED_MODULE_0_tslib__.c(this,function(_){switch(_.label){case 0:return e=this.root.valuetype,e.type!==__WEBPACK_IMPORTED_MODULE_4__datatype__.b&&e.type!==__WEBPACK_IMPORTED_MODULE_4__datatype__.c?[3,2]:(i=(r=__WEBPACK_IMPORTED_MODULE_5__math__.c).apply,n=[void 0],[4,this.data(t)]);case 1:return[2,i.apply(r,n.concat([_.sent()]))];case 2:return[2,Promise.reject("invalid value type: "+e.type)]}})})},AMatrix.prototype.statsAdvanced=function(t){return void 0===t&&(t=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)()),__WEBPACK_IMPORTED_MODULE_0_tslib__.b(this,void 0,void 0,function(){var e,r,i,n,_;return __WEBPACK_IMPORTED_MODULE_0_tslib__.c(this,function(o){switch(o.label){case 0:return e=this.root.valuetype,e.type!==__WEBPACK_IMPORTED_MODULE_4__datatype__.b&&e.type!==__WEBPACK_IMPORTED_MODULE_4__datatype__.c?[3,2]:(r=__WEBPACK_IMPORTED_MODULE_5__math__.d,n=(i=[].concat).apply,_=[[]],[4,this.data(t)]);case 1:return[2,r.apply(void 0,[n.apply(i,_.concat([o.sent()]))])];case 2:return[2,Promise.reject("invalid value type: "+e.type)]}})})},AMatrix.prototype.hist=function(t,e,r){return void 0===e&&(e=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)()),void 0===r&&(r=0),__WEBPACK_IMPORTED_MODULE_0_tslib__.b(this,void 0,void 0,function(){var i,n,_,o,s;return __WEBPACK_IMPORTED_MODULE_0_tslib__.c(this,function(a){switch(a.label){case 0:return i=this.root.valuetype,[4,this.data(e)];case 1:switch(n=a.sent(),_=flatten(n,this.indices,r),i.type){case __WEBPACK_IMPORTED_MODULE_4__datatype__.a:return o=i,[2,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__math__.e)(_.data,_.indices,_.data.length,o.categories.map(function(t){return"string"==typeof t?t:t.name}),o.categories.map(function(t){return"string"==typeof t?t:t.label||t.name}),o.categories.map(function(t){return"string"==typeof t?"gray":t.color||"gray"}))];case __WEBPACK_IMPORTED_MODULE_4__datatype__.b:case __WEBPACK_IMPORTED_MODULE_4__datatype__.c:return s=i,[2,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__math__.f)(_.data,_.indices,_.data.length,t||Math.round(Math.sqrt(this.length)),s.range)];default:return[2,Promise.reject("invalid value type: "+i.type)]}return[2]}})})},AMatrix.prototype.idView=function(t){return void 0===t&&(t=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)()),__WEBPACK_IMPORTED_MODULE_0_tslib__.b(this,void 0,void 0,function(){var e,r;return __WEBPACK_IMPORTED_MODULE_0_tslib__.c(this,function(i){switch(i.label){case 0:return e=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.h)(t),e.isAll?[2,Promise.resolve(this.root)]:[4,this.ids()];case 1:return r=i.sent(),[2,this.view(r.indexOf(e))]}})})},AMatrix.prototype.reduce=function(t,e,r,i){return new __WEBPACK_IMPORTED_MODULE_7__internal_ProjectedVector__.a(this.root,t,e,r,i)},AMatrix.prototype.restore=function(persisted){return persisted&&persisted.f?this.reduce(eval(persisted.f),this,persisted.valuetype,persisted.idtype?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__idtype__.e)(persisted.idtype):void 0):persisted&&persisted.range?this.view(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.h)(persisted.range)):persisted&&persisted.transposed?this.t:persisted&&persisted.col?this.slice(+persisted.col):persisted&&persisted.row?this.t.slice(+persisted.row):this},AMatrix}(__WEBPACK_IMPORTED_MODULE_3__idtype_AProductSelectAble__.a);__webpack_exports__.a=AMatrix;var MatrixView=function(t){function e(r,i,n){void 0===n&&(n=null);var _=t.call(this,r)||this;return _.range=i,_.t=n,_.range=i,i.dim(0),i.dim(1),n||(_.t=new e(r.t,i.swap(),_)),_}return __WEBPACK_IMPORTED_MODULE_0_tslib__.a(e,t),Object.defineProperty(e.prototype,"desc",{get:function(){return this.root.desc},enumerable:!0,configurable:!0}),e.prototype.persist=function(){return{root:this.root.persist(),range:this.range.toString()}},e.prototype.ids=function(t){return void 0===t&&(t=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)()),this.root.ids(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.h)(t),this.root.dim))},e.prototype.cols=function(t){return void 0===t&&(t=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)()),this.root.cols(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.h)(t),this.root.dim))},e.prototype.colIds=function(t){return void 0===t&&(t=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)()),this.root.colIds(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.h)(t),this.root.dim))},e.prototype.rows=function(t){return void 0===t&&(t=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)()),this.root.rows(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.h)(t),this.root.dim))},e.prototype.rowIds=function(t){return void 0===t&&(t=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)()),this.root.rowIds(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.h)(t),this.root.dim))},e.prototype.size=function(){return this.range.size(this.root.dim)},e.prototype.at=function(t,e){var r=this.range.invert([t,e],this.root.dim);return this.root.at(r[0],r[1])},e.prototype.data=function(t){return void 0===t&&(t=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)()),this.root.data(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.h)(t),this.root.dim))},e.prototype.hist=function(t,e,r){return void 0===e&&(e=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)()),void 0===r&&(r=0),this.root.hist(t,this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.h)(e),this.root.dim),r)},e.prototype.stats=function(t){return void 0===t&&(t=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)()),this.root.stats(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.h)(t),this.root.dim))},e.prototype.statsAdvanced=function(t){return void 0===t&&(t=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)()),this.root.statsAdvanced(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.h)(t),this.root.dim))},e.prototype.heatmapUrl=function(t,e){return void 0===t&&(t=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)()),void 0===e&&(e={}),this.root.heatmapUrl(this.range.preMultiply(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.h)(t),this.root.dim),e)},e.prototype.view=function(t){void 0===t&&(t=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.a)());var r=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__range__.h)(t);return r.isAll?this:new e(this.root,this.range.preMultiply(r,this.dim))},Object.defineProperty(e.prototype,"valuetype",{get:function(){return this.root.valuetype},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowtype",{get:function(){return this.root.rowtype},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"coltype",{get:function(){return this.root.coltype},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"producttype",{get:function(){return this.root.producttype},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"idtypes",{get:function(){return this.root.idtypes},enumerable:!0,configurable:!0}),e}(AMatrix)},769:function(t,e,r){"use strict";function i(){return r.i(_.a)(r.i(n.g)(),{type:"matrix",rowtype:"_rows",coltype:"_cols",size:[0,0]})}var n=r(18),_=r(19);e.a=i},770:function(t,e,r){"use strict";var i=r(5),n=r(19),_=r(13),o=r(660),s=function(t){function e(e,r,i,n,_){void 0===i&&(i=e),void 0===n&&(n=e.valuetype),void 0===_&&(_=e.rowtype);var o=t.call(this,null)||this;return o.m=e,o.f=r,o.thisArgument=i,o.valuetype=n,o._idtype=_,o.desc={name:e.desc.name+"-p",fqname:e.desc.fqname+"-p",type:"vector",id:e.desc.id+"-p",size:o.dim[0],idtype:e.rowtype,value:o.valuetype,description:e.desc.description,creator:e.desc.creator,ts:e.desc.ts},o.root=o,o}return i.a(e,t),e.prototype.persist=function(){return{root:this.m.persist(),f:this.f.toString(),valuetype:this.valuetype===this.m.valuetype?void 0:this.valuetype,idtype:this.idtype===this.m.rowtype?void 0:this.idtype.name}},e.prototype.restore=function(t){var e=this;return t&&t.range&&(e=e.view(r.i(_.h)(t.range))),e},Object.defineProperty(e.prototype,"idtype",{get:function(){return this._idtype},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"idtypes",{get:function(){return[this._idtype]},enumerable:!0,configurable:!0}),e.prototype.size=function(){return this.m.nrow},e.prototype.names=function(t){return this.m.rows(t)},e.prototype.ids=function(t){return this.m.rowIds(t)},e.prototype.at=function(t){return i.b(this,void 0,void 0,function(){var e;return i.c(this,function(i){switch(i.label){case 0:return[4,this.m.data(r.i(_.b)(t))];case 1:return e=i.sent(),[2,this.f.call(this.thisArgument,e[0])]}})})},e.prototype.data=function(t){return i.b(this,void 0,void 0,function(){return i.c(this,function(e){switch(e.label){case 0:return[4,this.m.data(t)];case 1:return[2,e.sent().map(this.f,this.thisArgument)]}})})},e.prototype.sort=function(t,e){return i.b(this,void 0,void 0,function(){var o,s;return i.c(this,function(i){switch(i.label){case 0:return[4,this.data()];case 1:return o=i.sent(),s=r.i(n.l)(o,t,e),[2,this.view(r.i(_.b)(s))]}})})},e.prototype.filter=function(t,e){return i.b(this,void 0,void 0,function(){var o,s;return i.c(this,function(i){switch(i.label){case 0:return[4,this.data()];case 1:return o=i.sent(),s=r.i(n.m)(o,t,e),[2,this.view(r.i(_.b)(s))]}})})},e}(o.a);e.a=s},771:function(t,e,r){"use strict";var i=r(5),n=r(19),_=r(13),o=r(660),s=function(t){function e(e,r){var i=t.call(this,null)||this;return i.m=e,i.col=r,i.colRange=_.f.from([i.col]),i.desc={name:e.desc.name+"-c"+r,fqname:e.desc.fqname+"-c"+r,id:e.desc.id+"-c"+r,type:"vector",idtype:e.rowtype,size:e.nrow,value:e.valuetype,description:e.desc.description,creator:e.desc.creator,ts:e.desc.ts},i.root=i,i}return i.a(e,t),e.prototype.persist=function(){return{root:this.m.persist(),col:this.col}},e.prototype.restore=function(t){var e=this;return t&&t.range&&(e=e.view(r.i(_.h)(t.range))),e},Object.defineProperty(e.prototype,"valuetype",{get:function(){return this.m.valuetype},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"idtype",{get:function(){return this.m.rowtype},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"idtypes",{get:function(){return[this.idtype]},enumerable:!0,configurable:!0}),e.prototype.size=function(){return this.m.nrow},e.prototype.names=function(t){return this.m.rows(t)},e.prototype.ids=function(t){return this.m.rowIds(t)},e.prototype.at=function(t){return this.m.at(t,this.col)},e.prototype.data=function(t){return void 0===t&&(t=r.i(_.a)()),i.b(this,void 0,void 0,function(){var e,n,o;return i.c(this,function(i){switch(i.label){case 0:return e=r.i(_.h)(t),n=r.i(_.b)(e.dim(0),this.colRange),[4,this.m.data(n)];case 1:return o=i.sent(),0===o.length?[2,[]]:Array.isArray(o[0])?[2,o.map(function(t){return t[0]})]:[2,o]}})})},e.prototype.sort=function(t,e){return i.b(this,void 0,void 0,function(){var o,s;return i.c(this,function(i){switch(i.label){case 0:return[4,this.data()];case 1:return o=i.sent(),s=r.i(n.l)(o,t,e),[2,this.view(r.i(_.b)(s))]}})})},e.prototype.filter=function(t,e){return i.b(this,void 0,void 0,function(){var o,s;return i.c(this,function(i){switch(i.label){case 0:return[4,this.data()];case 1:return o=i.sent(),s=r.i(n.m)(o,t,e),[2,this.view(r.i(_.b)(s))]}})})},e}(o.a);e.a=s},772:function(t,e,r){"use strict";var i=r(5),n=r(19),_=r(13),o=r(660),s=function(t){function e(e,r){var i=t.call(this,null)||this;return i.m=e,i.row=r,i.rowRange=_.f.from([i.row]),i.desc={name:e.desc.name+"-r"+r,fqname:e.desc.fqname+"-r"+r,id:e.desc.id+"-r"+r,type:"vector",idtype:e.coltype,size:e.ncol,value:e.valuetype,description:e.desc.description,creator:e.desc.creator,ts:e.desc.ts},i.root=i,i}return i.a(e,t),e.prototype.persist=function(){return{root:this.m.persist(),row:this.row}},e.prototype.restore=function(t){var e=this;return t&&t.range&&(e=e.view(r.i(_.h)(t.range))),e},Object.defineProperty(e.prototype,"valuetype",{get:function(){return this.m.valuetype},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"idtype",{get:function(){return this.m.coltype},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"idtypes",{get:function(){return[this.idtype]},enumerable:!0,configurable:!0}),e.prototype.size=function(){return this.m.ncol},e.prototype.names=function(t){return this.m.cols(t)},e.prototype.ids=function(t){return this.m.colIds(t)},e.prototype.at=function(t){return this.m.at(this.row,t)},e.prototype.data=function(t){return void 0===t&&(t=r.i(_.a)()),i.b(this,void 0,void 0,function(){var e,n,o;return i.c(this,function(i){switch(i.label){case 0:return e=r.i(_.h)(t),n=r.i(_.b)(this.rowRange,e.dim(0)),[4,this.m.data(n)];case 1:return o=i.sent(),[2,o[0]]}})})},e.prototype.sort=function(t,e){return i.b(this,void 0,void 0,function(){var o,s;return i.c(this,function(i){switch(i.label){case 0:return[4,this.data()];case 1:return o=i.sent(),s=r.i(n.l)(o,t,e),[2,this.view(r.i(_.b)(s))]}})})},e.prototype.filter=function(t,e){return i.b(this,void 0,void 0,function(){var o,s;return i.c(this,function(i){switch(i.label){case 0:return[4,this.data()];case 1:return o=i.sent(),s=r.i(n.m)(o,t,e),[2,this.view(r.i(_.b)(s))]}})})},e}(o.a);e.a=s},773:function(t,e,r){"use strict";var i=r(5),n=r(13),_=r(18),o=r(736),s=r(772),a=function(t){function e(e){var r=t.call(this,e)||this;return r.t=e,r}return i.a(e,t),Object.defineProperty(e.prototype,"desc",{get:function(){return this.root.desc},enumerable:!0,configurable:!0}),e.prototype.persist=function(){return{root:this.root.persist(),transposed:!0}},Object.defineProperty(e.prototype,"valuetype",{get:function(){return this.root.valuetype},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowtype",{get:function(){return this.root.coltype},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"coltype",{get:function(){return this.root.rowtype},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"producttype",{get:function(){return this.root.producttype},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"idtypes",{get:function(){return[this.rowtype,this.coltype]},enumerable:!0,configurable:!0}),e.prototype.ids=function(t){return void 0===t&&(t=r.i(n.a)()),i.b(this,void 0,void 0,function(){var e;return i.c(this,function(i){switch(i.label){case 0:return[4,this.t.ids(t?r.i(n.h)(t).swap():void 0)];case 1:return e=i.sent(),[2,e.swap()]}})})},e.prototype.cols=function(t){return void 0===t&&(t=r.i(n.a)()),this.t.rows(t?r.i(n.h)(t).swap():void 0)},e.prototype.colIds=function(t){return void 0===t&&(t=r.i(n.a)()),this.t.rowIds(t?r.i(n.h)(t).swap():void 0)},e.prototype.rows=function(t){return void 0===t&&(t=r.i(n.a)()),this.t.cols(t?r.i(n.h)(t).swap():void 0)},e.prototype.rowIds=function(t){return void 0===t&&(t=r.i(n.a)()),this.t.colIds(t?r.i(n.h)(t).swap():void 0)},e.prototype.view=function(t){void 0===t&&(t=r.i(n.a)());var e=r.i(n.h)(t);return e.isAll?this:new o.b(this.root,e.swap()).t},e.prototype.slice=function(t){return new s.a(this.root,t)},e.prototype.size=function(){var t=this.t.dim;return[t[1],t[0]]},e.prototype.at=function(t,e){return this.t.at(e,t)},e.prototype.data=function(t){return void 0===t&&(t=r.i(n.a)()),i.b(this,void 0,void 0,function(){var e;return i.c(this,function(i){switch(i.label){case 0:return e=_.k,[4,this.t.data(t?r.i(n.h)(t).swap():void 0)];case 1:return[2,e.apply(void 0,[i.sent()])]}})})},e.prototype.hist=function(t,e,i){return void 0===e&&(e=r.i(n.a)()),void 0===i&&(i=0),this.t.hist(t,e?r.i(n.h)(e).swap():void 0,1-i)},e.prototype.stats=function(t){return void 0===t&&(t=r.i(n.a)()),this.t.stats(t?r.i(n.h)(t).swap():void 0)},e.prototype.statsAdvanced=function(t){return void 0===t&&(t=r.i(n.a)()),this.t.statsAdvanced(t?r.i(n.h)(t).swap():void 0)},e.prototype.heatmapUrl=function(t,e){return void 0===t&&(t=r.i(n.a)()),void 0===e&&(e={}),e.transpose=!0!==e.transpose,this.t.heatmapUrl(t?r.i(n.h)(t).swap():void 0,e)},e}(o.a);e.a=a},774:function(t,e,r){"use strict";function i(t){return{rowIds:function(e,r){return t(e).then(function(t){return r.preMultiply(t.rowIds,e.size)})},rows:function(e,r){return t(e).then(function(t){return r.dim(0).filter(t.rows,e.size[0])})},colIds:function(e,r){return t(e).then(function(t){return r.preMultiply(t.colIds,e.size)})},cols:function(e,r){return t(e).then(function(t){return r.dim(1).filter(t.cols,e.size[1])})},ids:function(e,r){return t(e).then(function(t){return r.preMultiply(t.ids,e.size)})},at:function(e,r,i){return t(e).then(function(t){return t.data[r][i]})},data:function(e,r){return t(e).then(function(t){return r.filter(t.data,e.size)})}}}function n(t){return t.value.type===a.b||t.value.type===a.c?function(e){return r.i(a.j)(e,t.value)}:function(t){return t}}function _(){function t(t){null!==i&&null!==_&&Promise.all([i,_]).then(function(e){var i=e[0],n=e[1],_=r.i(c.e)(t.rowtype),o=r.i(s.h)(i);_.fillMapCache(o.dim(0).asList(n.length),n)})}function e(t){null!==a&&null!==p&&Promise.all([a,p]).then(function(e){var i=e[0],n=e[1],_=r.i(c.e)(t.coltype),o=r.i(s.h)(i);_.fillMapCache(o.dim(0).asList(n.length),n)})}var i=null,_=null,a=null,p=null,d=null,l=null,h=null,f={rowIds:function(e,n){return null==i&&(i=r.i(o.a)("/dataset/matrix/"+e.id+"/rowIds").then(s.h),t(e)),i.then(function(t){return t.preMultiply(n,e.size)})},rows:function(e,i){return null==_&&(_=r.i(o.a)("/dataset/matrix/"+e.id+"/rows"),t(e)),_.then(function(t){return i.dim(0).filter(t,e.size[0])})},colIds:function(t,i){return null==a&&(a=r.i(o.a)("/dataset/matrix/"+t.id+"/colIds").then(s.h),e(t)),a.then(function(e){return e.preMultiply(i,t.size)})},cols:function(t,i){return null==p&&(p=r.i(o.a)("/dataset/matrix/"+t.id+"/cols"),e(t)),p.then(function(e){return i.dim(1).filter(e,t.size[1])})},ids:function(t,e){if(1===e.ndim)return f.rowIds(t,e);e.dim(0),e.dim(1);var i=e.split();return Promise.all([f.rowIds(t,i[0]||r.i(s.a)()),f.colIds(t,i[1]||r.i(s.a)())]).then(s.c)},numericalStats:function(t,e){if(e.isAll)return null==h&&(h=r.i(o.a)("/dataset/matrix/"+t.id+"/stats")),h;var i={range:e.toString()};return r.i(o.a)("/dataset/matrix/"+t.id+"/stats",i)},numericalHist:function(t,e,i){void 0===i&&(i=NaN);var n=t.value.range;if(e.isAll)return null==l&&(l=r.i(o.a)("/dataset/matrix/"+t.id+"/hist").then(function(t){return r.i(u.g)(t,n)})),l;var _={range:e.toString()};return isNaN(i)||(_.bins=i),r.i(o.a)("/dataset/matrix/"+t.id+"/hist",_).then(function(t){return r.i(u.g)(t,n)})},at:function(t,e,i){return f.data(t,r.i(s.b)([e],[i])).then(function(e){return n(t)(e[0][0])})},data:function(t,e){if(e.isAll)return null==d&&(d=r.i(o.a)("/dataset/matrix/"+t.id+"/raw").then(n(t))),d;if(null!=d)return d.then(function(r){return e.filter(r,t.size)});var i=t.size;return i[0]*i[1]<1e3||t.loadAtOnce?(d=r.i(o.a)("/dataset/matrix/"+t.id+"/raw").then(n(t)),d.then(function(r){return e.filter(r,t.size)})):r.i(o.c)("/dataset/matrix/"+t.id+"/raw",{range:e.toString()}).then(n(t))},heatmapUrl:function(t,e,i){var n={format:i.format||"png",range:e.toString()};return!0===i.transpose&&(n.format_transpose=!0),i.range&&(n.format_min=i.range[0],n.format_max=i.range[1]),i.palette&&(n.format_palette=i.palette.toString()),i.missing&&(n.format_missing=i.missing),r.i(o.d)("/dataset/matrix/"+t.id+"/data",n)}};return f}var o=r(71),s=r(13),a=r(18),u=r(233),c=r(231);e.a=i,e.b=_}});